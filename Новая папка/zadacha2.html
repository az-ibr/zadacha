<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        var a = 'еще вариант [87|2|34|213] урааа {ура|ура2|33} еще текст {вариант1|вариант2} еще текст {99|-100} еще текст {вариант1|вариант2}';
        a = a.replace(/[{}]/g, ''); //удаляем фигурные скобки 
        a = a.replace(/[\[\]']+/g, ''); //удаляем квадратные скобки 
        
        var x = 'еще вариант';
        var Xarray = [87, 2, 34213];
        var Yarray = ['ура', 'ура2', 33, 'еще текст', 99, -100, 'вариaнт1', 'вариант2'];
        console.log (a);

        var rand = Math.floor(Math.random()*Xarray.length); //выбираем рандомное число
        
        var symbols = {
  "А": "1",
  "Б": "2",
  "В": "3",
  "Г": "4",
  "Д": "5",
  "Е": "6",
  "Ё": "7",
  "Ж": "8",
  "З": "9",
  "Й": "10",
  'И': '11',
  "К": "12",
  "Л": "13",
  "М": "14",
  "Н": "15",
  "О": "16",
  "П": "17",
  "Р": "18",
  "С": "19",
  "Т": "20",
  "У": "21",
  "Ф": "22",
  "Ц": "23",
  "Ч": "24",
  "Ш": "25",
  "Щ": "26",
  "Ъ": "27",
  
  "Ы": "28",
  "ь": "29",
  "э": "30",
  "ю": "31",
  "я": "32",
};


var str = 'ура';
Yarray = str.replace(/./gi,$0=>symbols[$0.toUpperCase()]||$0);

var str = 'еще';
Yarray = str.replace(/./gi,$0=>symbols[$0.toUpperCase()]||$0);

var str = 'вариант';
Yarray = str.replace(/./gi,$0=>symbols[$0.toUpperCase()]||$0);

        var rArr = Xarray[rand];
         console.log (a);

         var max = getMaxVal(Yarray);
         function getMaxVal(Yarray) {
             var max = Yarray[0]; 
             for (var i = 0; i<Yarray.length; i++) {
                 if (max<Yarray[i]) max = Yarray[i];
             }
             return max;
         }
         console.log (max);
         
        a = x+''+ rArr+getMaxVal(Yarray);
        var result = a;

        alert (a);
    </script>
</body>
</html>